<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="app.css">
</head>

<body>
    <h1>Simlation</h1>
    <button onclick='Blink.msg("link", "Microbe")'>Add Microbe</button>
    <button onclick='Blink.msg("link", "Molecule")'>Add Molecule</button>
    <button onclick='Blink.msg("link", "Sim")'>Simulation</button>
    <br>

    <div class="card" id="app_card">
        <form onsubmit="return false;" method="post" id="Simulation">
            <label for="m1">Microbe 1</label><br>
            <select id="m1" name="m1">
                <option value="NULL">None</option>
            </select><br><br>
            <label for="m2">Microbe 2</label><br>
            <select id="m2" name="m2">
                <option value="None">None</option>
            </select><br><br>
            <label for="in1">Input molecules 1</label><br>
            <select id="in1" name="in1">
                <option vaule="None">None</option>
            </select><br><br>
            <label for="in2">Input molecules 2</label><br>
            <select id="in2" name="in2">
                <option vaule="None">None</option>
            </select><br><br>
            <label for="in3">Input molecules 3</label><br>
            <select id="in3" name="in3">
                <option vaule="None">None</option>
            </select><br><br>
            <label for="calcT">Calculation time</label><br>
            <input type="text" id="calcT" name="calcT" value="30">s/update<br>
            how often the program runs calculation. smaller will be more accurate, larger will run faster<br><br>
            <label for="dataT">Data Frame</label><br>
            <input type="text" id="dataT" name="dataT" value="900">s/frame<br>
            how many seconds between data captures<br><br>
            <label for="size">Grid Size</label><br>
            <input type="text" id="size" name="size" value="10000">x3 microns<br>
            to be fixed<br><br>
            <label for="vari">Energy Variance</label><br>
            <input type="text" id="vari" name="vari" value="20">%<br>
            this setting will affect how much randomness plays into cells food consumtion and death<br><br>
            <button type="submit" name="submit" onclick="run()">Start</button>
        </form>
    </div>
</body>

</html>

<script>


    function run() {
        var m1 = document.getElementById("m1").value;
        var m2 = document.getElementById("m2").value;
        var in1 = document.getElementById("in1").value;
        var in2 = document.getElementById("in2").value;
        var in3 = document.getElementById("in3").value;
        var calcT = document.getElementById("calcT").value;
        var capT = document.getElementById("dataT").value;
        var size = document.getElementById("size").value;
        var vari = document.getElementById("vari").value;
        Blink.msg("simulate", calcT + "," + capT + "," + size + "," + vari + "::" + m1 + "," + m2 + "::" + in1 + "," + in2 + "," + in3);
    }
    function populate_micro(val) {
        sel = document.getElementById("m1");

        opt = document.createElement("option");
        opt.value = val;
        opt.text = val;

        sel.add(opt);

        sel = document.getElementById("m2");

        opt = document.createElement("option");
        opt.value = val;
        opt.text = val;

        sel.add(opt);

    }

    function populate_mole(val) {

        sel = document.getElementById("in1");

        opt = document.createElement("option");
        opt.value = val;
        opt.text = val;

        sel.add(opt);

        sel = document.getElementById("in2");

        opt = document.createElement("option");
        opt.value = val;
        opt.text = val;

        sel.add(opt);

        sel = document.getElementById("in3");

        opt = document.createElement("option");
        opt.value = val;
        opt.text = val;

        sel.add(opt);

    }

</script>